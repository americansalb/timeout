<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Speaking Test</title>
</head>
<body>

  <div id="widget-container"></div>

  <script src="https://unpkg.com/@elevenlabs/convai-widget-embed" async></script>

  <script>
    // Wait for the widget script to load and define the widget
    window.addEventListener('elevenlabs-convai-ready', () => {
      window.ElevenLabsConAI.mount({
        agentId: 'agent_01jz3mzxkkfw09832nvhjtxqyy',
        theme: 'light',
        tools: [],
        clientTools: {
          PAUSE_5_Second: async () => {
            try {
              await fetch('https://timeout-ri84.onrender.com/pause', { method: 'POST' });
              console.log("✅ PAUSE_5_Second executed");
              return {};
            } catch (err) {
              console.error("❌ Failed to call pause endpoint", err);
              throw new Error("PAUSE_5_Second failed");
            }
          }
        }
      }, document.getElementById('widget-container'));
    });
  </script>

</body>
</html>
